<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="HODU_style.css">
    <title>HODU 랜딩페이지</title>
</head>
<body>
<img src="HODU_image/top-button.png" class="btn-up">
<script>
    const $topBtn = document.querySelector(".btn-up");

    // 버튼 클릭 시 맨 위로 이동
    $topBtn.onclick = () => {
        window.scrollTo({ top: 0, behavior: "smooth" });
    }
</script>

<!--첫 번째 베이지색 페이지-->
<div class="all_one">
    <section class="top_box">
    <div class="first_page">
        <div class="top_contents">
            <div class="HODU_logo">
                <img src="HODU_image/Group.svg" alt="상단 호두 로고">
            </div>
            <div class="top_nav_element">
                <span class="home_nav">Home</span>
                <span class="about-nav">About</span>
                <span class="support-nav">Support</span>
            </div>
            <div class="top_download_button">
                <button class="download_btn">Download</button>
            </div>
        </div>


        <h1 class="big_lorem">Lorem Ipsum is simply<br>dummy text of the printing and</h1>
        <div class="small_lorem">
            Lorem Ipsum is simply dummy text of the printing and <br>
            typesetting industry. <br>
            Lorem Ipsum has been the industry's standard dummy text <br>
            ever since the 1500s, when an unknown</div>
        <div class="bottom_download_button">
            <button class="download_btn">Download</button>
        </div>
        <div class="box_cat">
            <img src="HODU_image/box_cat.png" alt="박스 쓴 호두">
        </div>
    </div>
    </section>
    <!--두 번째 화이트 페이지    -->
    <section class="bottom_box">
        <div class="hodu_bed">
            <img src="HODU_image/bed_cat.png" alt="누워있는 호두">
        </div>
        <h2 class="big_2_lorem">Lorem Ipsum is simply <br>
            dummy text of the printing <br> and dummy text</h2>
        <div class="small_2_lorem">Lorem Ipsum is simply dummy text of the printing and typesetting <br> industry. </div>

        <div class="dummy_and_text">
            <span class="dummy_text">dummy text of the printing and dummy</span>
            <span class="small_dummy">
            Lorem Ipsum is simply <span class="change_orange">dummy text</span> of the printing and typesetting industry. <br>
            Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown
        </span>

        </div>
    </section>
    <!--세 번째 호두 사진 show more-->
    <section>
        <div class="all_photos">
            <div class="top_photos">
                <img src="HODU_image/img_1.png" class="img_1" alt="호두 사진 1">
                <img src="HODU_image/img_2.png" class="img_2" alt="호두 사진 2">
                <img src="HODU_image/img_3.png" class="img_3" alt="호두 사진 3">
            </div>
            <div class="bottom_photos">
                <img src="HODU_image/img_4.png" class="img_4" alt="호두 사진 4">
                <img src="HODU_image/img_5.png" class="img_5" alt="호두 사진 5">
                <img src="HODU_image/img_6.png" class="img_6" alt="호두 사진 6">
            </div>
        </div>
        <p class="show_more_say">
            Continue exploring HODU
        </p>
    </section>

    <!--무한 사진 로딩    -->
    <div class="show_more">
        <button class="show_more_button">Show more</button>
    </div>
    <section id="loading">
        <div class="show_stop">
            <button class="show_stop_button">Show stop</button>
        </div>

        <ul class="image-list"></ul>
    </section>
    <script>
        let pageToFetch = 1;
        const imagesPerLoad = 10; // 한 번에 로딩될 이미지 개수
        let totalLoadedImages = 0;

        async function fetchImages(pageNum) {
            try {
                const response = await fetch('https://picsum.photos/v2/list?page=' + pageNum + '&limit=' + imagesPerLoad);
                if (!response.ok) {
                    throw new Error('네트워크 응답에 문제가 있습니다.');
                }

                const datas = await response.json();
                console.log(datas);

                makeImageList(datas);

            } catch (error) {
                console.error('데이터를 가져오는데 문제가 발생했습니다 :', error);
            }
        }

        function makeImageList(datas) {
            const imageList = document.querySelector(".image-list");

            datas.forEach((item) => {
                if (totalLoadedImages < imagesPerLoad) {
                    const imgElement = document.createElement('img');
                    imgElement.src = item.download_url;
                    imgElement.alt = '';
                    imageList.appendChild(imgElement);
                    totalLoadedImages++;
                }
            });
        }

        function loadMoreImages() {
            // 현재 스크롤 위치
            const scrollPosition = window.innerHeight + window.scrollY;
            // 전체 문서의 높이
            const documentHeight = document.documentElement.offsetHeight;
            // 스크롤을 전부 내리지 않고 4분의 3만 내려도 이미지 로딩
            if (scrollPosition >= (documentHeight * 3) / 4) {
                fetchImages(pageToFetch++);
                totalLoadedImages = 0; // 다음 로딩을 위해 초기화
            }
        }

        window.addEventListener('scroll', loadMoreImages);
        // 페이지 로드 시 이미지 로딩을 위해 한 번 호출
        loadMoreImages();

    </script>

    <script>
        const loading = document.querySelector("#loading");
        const loadingButton = document.querySelector(".show_more_button");
        const unloadingButton = document.querySelector(".show_stop_button");

        function openModal() {
            loading.style.display = "flex";
        }

        function closeModal() {
            loading.style.display = "none";
        }

        window.onclick = function (event) {
            if(event.target == loading) {
                closeModal();
            }
        };

        loadingButton.addEventListener("click", openModal);
        unloadingButton.addEventListener("click", closeModal);
    </script>

    <section>
        <hr class="line">
        <p class="where">Where you'll be</p>
        <p class="where_small">330, Cheomdan-ro, Jeju-si, Jeju-do, Republic of Korea</p>
    </section>

    <!--네 번째 카카오 지도 넣기-->

    <section class="kakao_map">
        <!-- 지도를 표시할 div 입니다 -->
        <div id="map" style="width:1278px;height:520px;"></div>

        <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=96140040150978ef92334d6b285d3e33"></script>
        <script>
            var mapContainer = document.getElementById('map'), // 지도를 표시할 div
                mapOption = {
                    center: new kakao.maps.LatLng(33.4423379727783, 126.571449734542), // 지도의 중심좌표
                    level: 3 // 지도의 확대 레벨
                };

            // 지도를 표시할 div와 지도 옵션으로  지도를 생성함.
            var map = new kakao.maps.Map(mapContainer, mapOption);
            // 마커가 표시될 위치를 선정함.
            var markerPosition  = new kakao.maps.LatLng(33.4423379727783, 126.571449734542);
            // 마커를 생성함.
            var marker = new kakao.maps.Marker({
                position: markerPosition
            });
            // 마커가 지도 위에 표시되도록 설정함.
            marker.setMap(map);

        </script>
    </section>
    <!--구독 창-->
    <section class="sub_box">
        <div class="sub_big">
            Subscribe to our Blog post
        </div>
        <p class="sub_small">
            Lorem Ipsum is simply dummy text of the printing and typesetting industry.
            <br>Lorem Ipsum has been the industry's standard dummy text
        </p>
        <div class="enter_email_box">
            <div class="mail_img">
                <img src="HODU_image/mail.svg">
            </div>
            <div class="mail_input">
                <input type="text" class="input" placeholder="Enter your e-mail address">
            </div>
            <div class="enter_button">
                <button class="enter_button_real">Subscribe</button>
            </div>
        </div>
    </section>

    <!--구독 모달 창-->
    <section id="modal">
        <div class="modal_wrap">
            <div class="box_thanku">
                <img src="HODU_image/party.png" alt="모달 배경이미지">
            </div>
            <div class="hodu_head">
                <img src="HODU_image/HODU_head.png" alt="모달 배경이미지">
            </div>
            <div class="thanku">
                <p class="thanku_text">Thank you!</p>
            </div>
            <div class="thanku_small">
                <p class="thanku_small_text">Lorem Ipsum is simply dummy text of the printing industry.</p>
            </div>
            <div class="ok_button">
                <button class="ok_button_real">OK! I Love HODU</button>
            </div>
        </div>
    </section>
    <script>
        const modal = document.querySelector("#modal");
        const openButton = document.querySelector(".enter_button_real");
        const closeButton = document.querySelector(".ok_button_real");

        function openModal() {
            modal.style.display = "flex";
        }

        function closeModal() {
            modal.style.display = "none";
        }

        window.onclick = function (event) {
            if(event.target == modal) {
                closeModal();
            }
        };

        openButton.addEventListener("click", openModal);
        closeButton.addEventListener("click", closeModal);
    </script>
    <!--마지막 호두 사진-->
    <section class="see">
        <img src="HODU_image/see_img.png" alt="위를 보는 호두">
    </section>

    <!--마지막 푸터-->
    <section class="final">
        <div class="final_HODU">
            <img src="HODU_image/Logo-fin.png" alt="마지막 로고">
        </div>
        <div class="final_icon">
            <img src="HODU_image/footer-icon-group.png" alt="마지막 아이콘">
        </div>
    </section>

</div>
<!--<script src="HODU.js" ></script>-->
</body>
</html>
